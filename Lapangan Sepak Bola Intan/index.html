<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Lapangan Sepak Bola Lengkap</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  </head>
  <body>   
    <a-scene background="color: #87CEEB">
        <!-- suara suporter -->
        <a-assets>
            <audio id="suporter" src="assets/sounds/suporter.mp3"></audio>
        </a-assets>
      
      <!-- Lapangan -->
      <a-plane position="0 0 0" rotation="-90 0 0" width="68" height="105" color="green"></a-plane>

      <!-- Garis Luar -->
      <a-box position="0 0.01 52.5" width="68" height="0.01" depth="0.1" color="white"></a-box> <!-- Atas -->
      <a-box position="0 0.01 -52.5" width="68" height="0.01" depth="0.1" color="white"></a-box> <!-- Bawah -->
      <a-box position="-34 0.01 0" width="0.1" height="0.01" depth="105" color="white"></a-box> <!-- Kiri -->
      <a-box position="34 0.01 0" width="0.1" height="0.01" depth="105" color="white"></a-box> <!-- Kanan -->

      <!-- Garis Tengah -->
      <a-box position="0 0.01 0" width="68" height="0.01" depth="0.1" color="white"></a-box>

      <!-- Lingkaran Tengah -->
      <a-ring position="0 0.02 0" rotation="-90 0 0" radius-inner="4.9" radius-outer="5" color="white"></a-ring>

      <!-- Titik Tengah -->
      <a-sphere position="0 0.02 0" radius="0.3" color="white"></a-sphere>

      <!-- Kotak Penalti Kiri -->
      <a-box position="0 0.01 -40.5" width="40.3" height="0.01" depth="0.1" color="white"></a-box> <!-- Depan -->
      <a-box position="-20.15 0.01 -52.5" width="0.1" height="0.01" depth="24" color="white"></a-box> <!-- Kiri -->
      <a-box position="20.15 0.01 -52.5" width="0.1" height="0.01" depth="24" color="white"></a-box> <!-- Kanan -->

      <!-- Kotak Gawang Kiri -->
      <a-box position="0 0.01 -47.5" width="18.3" height="0.01" depth="0.1" color="white"></a-box>
      <a-box position="-9.15 0.01 -52.5" width="0.1" height="0.01" depth="10" color="white"></a-box>
      <a-box position="9.15 0.01 -52.5" width="0.1" height="0.01" depth="10" color="white"></a-box>

      <!-- Titik Penalti Kiri -->
      <a-sphere position="0 0.02 -36" radius="0.3" color="white"></a-sphere>

      <!-- Busur Penalti Kiri -->
      <a-ring position="0 0.02 -36" rotation="-90 0 0" radius-inner="8.9" radius-outer="9" theta-start="310" theta-length="100" color="white"></a-ring>

      <!-- Kotak Penalti Kanan -->
      <a-box position="0 0.01 40.5" width="40.3" height="0.01" depth="0.1" color="white"></a-box>
      <a-box position="-20.15 0.01 52.5" width="0.1" height="0.01" depth="24" color="white"></a-box>
      <a-box position="20.15 0.01 52.5" width="0.1" height="0.01" depth="24" color="white"></a-box>

      <!-- Kotak Gawang Kanan -->
      <a-box position="0 0.01 47.5" width="18.3" height="0.01" depth="0.1" color="white"></a-box>
      <a-box position="-9.15 0.01 52.5" width="0.1" height="0.01" depth="10" color="white"></a-box>
      <a-box position="9.15 0.01 52.5" width="0.1" height="0.01" depth="10" color="white"></a-box>

      <!-- Titik Penalti Kanan -->
      <a-sphere position="0 0.02 36" radius="0.3" color="white"></a-sphere>

      <!-- Busur Penalti Kanan -->
      <a-ring position="0 0.02 36" rotation="-90 180 0" radius-inner="8.9" radius-outer="9" theta-start="310" theta-length="100" color="white"></a-ring>

        <!-- Bola Bergerak Maju ke Gawang Kanan -->
        <a-entity gltf-model="assets/models/bola.glb" 
                scale="0.005 0.005 0.005" 
                position="0 0.5 0"
                animation="property: position; to: 0 0.5 50; dur: 4000; easing: linear; loop: true"
                sound="src: url(assets/suara/sorakan.mp3); on: animationcomplete;">
        </a-entity>

      <!-- Gawang Kiri -->
      <a-entity gltf-model="assets/models/gawang.glb" scale="1 1 1" position="0 0 -57" rotation="0 0 0"></a-entity>

      <!-- Gawang Kanan -->
      <a-entity gltf-model="assets/models/gawang.glb" scale="1 1 1" position="0 0 57" rotation="0 180 0"></a-entity>

      <!-- Bendera Corner -->
      <a-entity gltf-model="assets/models/bendera-corner.glb" scale="0.5 0.5 0.5" position="-34 2 -52.5"></a-entity>
      <a-entity gltf-model="assets/models/bendera-corner.glb" scale="0.5 0.5 0.5" position="34 2 -52.5"></a-entity>
      <a-entity gltf-model="assets/models/bendera-corner.glb" scale="0.5 0.5 0.5" position="-34 2 52.5"></a-entity>
      <a-entity gltf-model="assets/models/bendera-corner.glb" scale="0.5 0.5 0.5" position="34 2 52.5"></a-entity>

        <!-- Pemain Tim Merah -->
        <a-entity gltf-model="assets/models/orang-1.glb" scale="0.015 0.015 0.015" position="-10 0 -20"
                animation="property: position; to: -2 0 10; dur: 4000; dir: alternate; loop: true; easing: linear"></a-entity>

        <a-entity gltf-model="assets/models/orang-1.glb" scale="0.015 0.015 0.015" position="10 0 -25"
                animation="property: position; to: 5 0 8; dur: 4500; dir: alternate; loop: true; easing: linear"></a-entity>

        <a-entity gltf-model="assets/models/orang-1.glb" scale="0.015 0.015 0.015" position="-5 0 -30"
                animation="property: position; to: -3 0 5; dur: 5000; dir: alternate; loop: true; easing: linear"></a-entity>

        <a-entity gltf-model="assets/models/orang-1.glb" scale="0.015 0.015 0.015" position="5 0 -35"
                animation="property: position; to: 4 0 3; dur: 4200; dir: alternate; loop: true; easing: linear"></a-entity>

        <a-entity gltf-model="assets/models/orang-1.glb" scale="0.015 0.015 0.015" position="0 0 -40"
                animation="property: position; to: 1 0 2; dur: 4600; dir: alternate; loop: true; easing: linear"></a-entity>

        <!-- Pemain Tim Biru -->
        <a-entity gltf-model="assets/models/orang_2.glb" scale="1 1 1" position="-10 0 20"
                animation="property: position; to: -15 0 10; dur: 4000; dir: alternate; loop: true; easing: linear"></a-entity>

        <a-entity gltf-model="assets/models/orang_2.glb" scale="1 1 1" position="10 0 25"
                animation="property: position; to: 15 0 12; dur: 4500; dir: alternate; loop: true; easing: linear"></a-entity>

        <a-entity gltf-model="assets/models/orang_2.glb" scale="1 1 1" position="-5 0 30"
                animation="property: position; to: -8 0 15; dur: 5000; dir: alternate; loop: true; easing: linear"></a-entity>

        <a-entity gltf-model="assets/models/orang_2.glb" scale="1 1 1" position="5 0 35"
                animation="property: position; to: 8 0 17; dur: 4200; dir: alternate; loop: true; easing: linear"></a-entity>

        <a-entity gltf-model="assets/models/orang_2.glb" scale="1 1 1" position="0 0 40"
                animation="property: position; to: 0 0 20; dur: 4600; dir: alternate; loop: true; easing: linear"></a-entity>


      <!-- Tribun Penonton -->
        <!-- Kiri Depan -->
        <a-entity gltf-model="assets/models/tribun.glb" scale="0.7 0.7 0.7" position="-40 0 -30" rotation="0 90 0"></a-entity>

        <!-- Kiri Belakang -->
        <a-entity gltf-model="assets/models/tribun.glb" scale="0.7 0.7 0.7" position="-40 0 30" rotation="0 90 0"></a-entity>

        <!-- Kanan Depan -->
        <a-entity gltf-model="assets/models/tribun.glb" scale="0.7 0.7 0.7" position="40 0 -30" rotation="0 -90 0"></a-entity>

        <!-- Kanan Belakang -->
        <a-entity gltf-model="assets/models/tribun.glb" scale="0.7 0.7 0.7" position="40 0 30" rotation="0 -90 0"></a-entity>


        <!-- Kamera Keliling Lapangan -->
        <a-entity id="cameraRig" position="0 10 0" rotation="0 0 0"
        animation="property: rotation; to: 0 360 0; dur: 20000; easing: linear; loop: true">
        <a-camera wasd-controls-enabled="false" look-controls-enabled="false"></a-camera>
        </a-entity>

        <a-entity gltf-model="assets/models/bola.glb" 
                scale="0.005 0.005 0.005" 
                position="0 0.5 0"
                animation="property: position; to: 0 0.5 50; dur: 4000; easing: linear; loop: true"
                sound="src: url(assets/suara/sorakan.mp3); on: animationcomplete;">
      </a-entity>

      <!-- Audio Tribun -->
      <a-sound 
        id="suaraSuporter" 
        src="#suporter" 
        autoplay="true" 
        loop="true" 
        volume="2" 
        position="0 2 0">
      </a-sound>

      <!-- Kamera Keliling -->
      <a-entity id="cameraRig" position="0 10 0" rotation="0 0 0"
        animation="property: rotation; to: 0 360 0; dur: 20000; easing: linear; loop: true">
        <a-camera wasd-controls-enabled="false" look-controls-enabled="false"></a-camera>
      </a-entity>
    </a-scene>

    <script>
        // Trik paksa autoplay setelah user gesture ringan
        const playAudioOnce = () => {
          const suara = document.querySelector('#suaraSuporter');
          if (suara && suara.components.sound && !suara.components.sound.isPlaying) {
            suara.components.sound.playSound();
          }
          window.removeEventListener('mousemove', playAudioOnce);
          window.removeEventListener('touchstart', playAudioOnce);
        };
  
        window.addEventListener('mousemove', playAudioOnce);
        window.addEventListener('touchstart', playAudioOnce);
      </script>
  </body>
</html>
